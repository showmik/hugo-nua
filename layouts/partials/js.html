{{- /* Browser-only scripts. No server code under assets/js. */ -}}
{{- $files := slice "js/theme-toggle.js" "js/themed-images.js" "js/search.js" -}}
{{- range $files -}}
  {{- with resources.Get . -}}
    {{- if eq hugo.Environment "development" -}}
      {{- with . | js.Build (dict "target" "es2018") -}}
        <script defer src="{{ .RelPermalink }}"></script>
      {{- end -}}
    {{- else -}}
      {{- with . | js.Build (dict "target" "es2018" "minify" true) | fingerprint -}}
        <script defer src="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}" crossorigin="anonymous"></script>
      {{- end -}}
    {{- end -}}
  {{- end -}}
{{- end -}}
